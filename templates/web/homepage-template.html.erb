<%= render.call('head', title: 'Biagini Family Recipes') %>

<body>
<%= render.call('nav') %>

  <main>
    <article>
      <header>
        <h1>Our Recipes</h1>
        <p>A collection of our family's favorite recipes.</p>
      </header>

      <div class="toc_nav">
        <ul>
          <%- grouped_recipes.each do |category, recipes| -%>
            <li><a href="#<%= slugify.call(category) %>"><%= category %></a></li>
          <%- end -%>
        </ul>
      </div>

      <%- grouped_recipes.each do |category, recipes| -%>
      <section id="<%= slugify.call(category) %>">
        <h2><%= category %></h2>
        <ul>
          <%- recipes.each do |recipe| -%>
          <li><a href="<%= recipe.relative_url %>" title="<%= recipe.description %>"><%= recipe.title %></a></li>
          <%- end -%>
        </ul>
      </section>
      <%- end -%>

      <footer>
        <p>For more information, visit <a href="https://github.com/chris-biagini/familyrecipes">our project page on GitHub</a>.</p>
      </footer>
    </article>
  </main>
  <script>
    /* https://meyerweb.com/eric/thoughts/category/personal/rebecca/?order=asc/ */

    const sequence = ["r", "e", "b", "e", "c", "c", "a"];
    let input = [];

    document.addEventListener("keydown", (event) => {
      if (event.target.tagName === "INPUT" || event.target.tagName === "TEXTAREA") return;

      input.push(event.key.toLowerCase());
      input = input.slice(-sequence.length);

      if (input.join("") === sequence.join("")) {
        document.body.style.setProperty("--gingham-stripe-color", "hsla(270, 50%, 40%, 0.5)");
        input = [];
      }
    });
  </script>
</body>
</html>
